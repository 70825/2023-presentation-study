
# Spring

<aside>
🌱 Java 애플리케이션 **개발을 편하게** 할 수 있게 해주는 **오픈소스** **경량급** 애플리케이션 **프레임워크**

</aside>

- **???**
    - **개발을 편하게 할 수 있는**
      : 스프링 이전에는 비지니스로직을 구현하기 위해 기술 자체에 대한 공부를 추가적으로 해야했다.
      스프링은 이전 기술에 비해 사용법이 덜 복잡하기 때문에 기술보다는 어플리케이션의 로직 자체에 더 집중하여 비지니스로직을 구현할 수 있다.
      - **오픈소스**
      : 오픈소스로 배포되어 누구나 이용할 수 있지만, 한정된 인원만이 소스 코드를 수정할 수 있기 때문에 안정적인 개발과 개선이 보장된다.
      - **경량급**
      : 스프링 이전에 사용하던 EJB과 같은 기술들과 비교하여, 개발자가 작성해야 할 코드가 상대적으로 단순하다. 덕분에 기존 기술을 사용할때에 불가피하게 작성해야 했던 불필요하게 복잡한 코드를 제거하여 코드의 복잡성을 낮출 수 있음을 의미한다.
      - **어플리케이션 프레임워크**
      : 어플리케이션을 개발하는 데 있어서 필요한 모든 업무 분야 및 모든 기술과 관련된 코드들의 뼈대를 제공한다.
      기존의 프레임워크들은 웹 또는 하드웨어, 데이터베이스 등 전문적인 영역만 지원하는 경우가 많은 반면 스프링은 어느 한 분야에 집중하기 보다 전체를 설계하는 용도로 사용한다. ( 다른 특정영역의 프레임워크와 공존하는 방식으로 사용 가능하다 )
      - **vs 라이브러리**
      : 개발에 필요한 것들을 미리 구현해놓은 도구.

      ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d4f56e90-a221-43cb-bc74-75f9300e631e/Untitled.png)

      프레임워크는 라이브러리를 포함한다. 프레임 워크 위에 개발자가 작성한 어플리케이션 코드가 올라가게 되고, 이 어플리케이션 코드에서는 라이브러리를 호출할 수 있다.

      애플리케이션 코드는 프레임워크가 짜놓은 틀 안에서 수동적으로 동작한다.

      반면, 라이브러리는 개발자가 전체적인 흐름을 만들며 라이브러리를 가져다가 쓴다.


### Spring은 POJO(Plain Old Java Object) 프로그래밍을 지향한다

POJO: 순수 java를 통해서 생성한 객체를 의미한다.
객체 지향원리에 충실하면서, 특정 환경과 규약에 종속되지 않아 재사용이 쉬운 방식으로 설계된 오브젝트이다.

조건

1. 특정 규약에 종속되지 않아야 한다.
2. 특정 환경에 종속되지 않아야 한다.
3. 단일 책임 원칙을 지키는 클래스여야 한다. (객체지향의 원리에 충실)

장점

- 외부 기술이나 규약의 변화에 얽매이지 않아, 보다 유연하게 변화와 확장에 대처할 수 있다.
- 특정 환경에 종속되지 않아 코드가 단순해져서 디버깅이 쉬워짐
- 객체지향 설계를 제한없이 적용할 수 있음

### 스프링이 지원하는 기술

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a60af0b8-53cb-4a36-8f1d-c1b3d709c235/Untitled.png)

- **loC (Inversion of Control) - 제어의 역전**

  메서드나 객체의 호출작업을 개발자가 결정하는 것이 아니라, 외부에서 결정되는 것이다.
  (제어의 흐름을 바꾼다)

  (Controller, Service 같은 객체들의 동작을 우리가 직접 구현 하기는 하지만, 해당 객체들이 어느 시점에 호출 되는지는 신경쓰지 않는다 ex. Junit)

  프로그램의 진행 흐름과 구체적인 구현을 분리시켜 개발자는 비지니스 로직에 집중할 수 있다.

  객체의 의존성을 역전시켜 객체간의 결합도를 줄이고 유연한 코드를 작성할 수 있도록 한다.

- **DI  (Dependency Injection) - 의존성 주입**

  객체를 직접 생성하는 것이 아니라 외부에서 생성한 후 주입시켜주는 방법이다.

  DI를 통해서 모듈간의 결합도가 낮아지고 유연성이 높아진다.

  모의 객체를 주입할 수 있기 때문에 단위테스트가 쉬워진다.

    ```java
    **class A {
    	private I i;
    
    	public A(I i) {
    		this.i = i;
    	}
    
    	public void methodOfA(){
    		i.example();
    	}
    }**
    
    interface I {
    	void example();
    }
    
    class B implements I {
    	public void example(){}
    }
    
    class C implements I {
    	public void example(){}
    }
    // A는 자신이 사용할 객체를 스스로 생성하지 않고, 
    // 생성자를 통해 외부(IOC 컨테이너)에서 생성된 객체를 받아오고 있음
    // 기존에 사용하던 객체를 변경한다면, 외부에서 넣어주는 객체만 수정하면 된다! 
    ```

    - 의존성 주입을 받지 않으면?

        ```java
        class A {
        	public void methodOfA() {
        		~~B b = new B();~~
        		~~b.example ();~~
        
        		C c = new C();
        		c.example (); // 수정이 필요할 때 코드를 전부 수정해주어야 한다. 
        	}
        }
        ```


    스프링은에서는 객체를 Bean이라고 부르며, 프로젝트가 실행될때 사용자가 Bean으로 관리하는 객체들의 생성과 소멸에 관련된 작업들을 자동적으로 수행해준다.
    
    - 스프링 의존성 주입 종류
        
        ```java
        // Field Injection
        public class A {
            @Autowired
            private B b;
        		// 컨테이너에 의해 생성한 객체를 주입받아 사용만 한다.
        }
        // 테스트 어려움, 의존성↑
        
        // Constructor Injection
        public class A {
            private B b;
        
        		@Autowired
        		public A(B b){
        			this.b =b;
        		}
        }
        // 모의 객체를 주입할 수 있기 때문에 테스트 쉬움, 의존성↓
        ```


- **AOP (Aspect Oriented Programming) - 관심지향 프로그래밍**

  공통 기능을 비지니스 로직으로부터 분리해내는 것이다.

  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8d06dabe-61dc-47d7-9765-1f67dc744251/Untitled.png)

  장점

    - 공통 관심 사항을 핵심 관심사항으로부터 분리시켜 핵심 로직을 깔끔하게 유지시킬 수 있다.
    - 중복코드를 제거함으로써 코드의 가독성, 유지보수성 등을 높일 수 있다.
    - 각각의 모듈에 수정이 필요하면 다른 모듈의 수정없이 해당 로직만 변경하면 된다.
    - 공통로직을 적용할 대상을 선택할 수 있다.

- **PSA (Portable Service Abstract) - 일관된 서비스 추상화**

  서비스 추상화 :  
  어뎁터 패턴을 적용해 같은 일을 하는 다수의 기술을 공통의 인터페이스로 제어할 수 있게 한 것
  어떤 기술을 내부에 숨기고, 개발자에게 편의성을 제공해준다. (서비스의 내용을 모르더라도 이용가능)

  → 특정 기술과 관련된 서비스를 일관된 방식으로 사용가능, 제공되는 기술을 다른 스택으로 간편하게 바꿀 수 있다.

    - ex. JDBC

      JDBC(Java DataBase Connectivity) - 스프링이 자바를 사용하여 데이터베이스에 접근하는 방법을 규정한 인터페이스를 제공한다.

      ⇒ 데이터베이스 마다 사용방법이 다르지 않기 때문에, 동일한 사용방법을 유지한 채, 다른 데이터베이스로 쉽게 변경 가능하다.
